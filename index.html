<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>romfs information</title>
<meta http-equiv="Content-type" content="text/html; charset=UTF-8" />
<meta name="Description" content="linux romfs, a space-efficient, small, read-only filesystem" />
<meta name="Keywords" content="linux, romfs, genromfs, initrd, embedded, boot" />
<meta name="Author" content="Janos Farkas" />
<link rev="Made" title="romfs information page" href="mailto:jf-ml-r1-1087822223%40noc%2e.xeon%2eu%2eorg" />
<meta name="DC.Creator" content="Janos Farkas" />
<meta name="DC.Type" scheme="DCT1" content="Text" />
<meta name="DC.Language" scheme="RFC1766" content="en-US" />
<meta name="DC.Date.created" scheme="W3CDTF" content="2002-01-19" />
<style type="text/css">
<!--
body { text-align: left }
img { border: 0; vertical-align: middle }
hr { width: 70%; margin-left: auto; margin-right: auto; text-align: center }
h1 { font-size: larger }
h2 { font-size: larger }
.none { display: none }
.center { text-align: center; margin-left: auto; margin-right: auto }
-->
</style>
</head>

<body>

<p class="center">
romfs
| <a href="#mirror">download</a>
| <a href="#links">related</a>
  <a href="#boot">(boot)</a>
  <a href="#embedded">(embedded)</a>
  <a href="#ports">(ports)</a>
| <a href="#who">contact</a>
</p>

<h1><a name="what" id="what" tabindex="1">What is romfs?</a></h1>

<p>
<em>romfs</em> is a space-efficient, small, read-only filesystem
originally for
<a href="http://www.linux.org/">Linux</a> and used by
some Linux based projects.
It is a block-based filesystem, that means it makes use of block
(or sector)
accessible storage driver (like disks, CDs, ROM drives).
It is part of stock Linux kernels since about
version 2.1.21 (about January, 1997).
All current (2.4--2.6) kernel sources
contain support for <em>romfs</em>,
but depending
on the distributor, it might not have been compiled in.
</p>

<p>
A working Linux system requires the kernel, and at least some
programs running, which obviously needs a filesystem too.
Most Linux disk filesystems are designed to be high
performance, supporting all POSIX features, sometimes
elaborate recovery on crashes (journaling), and that usually
makes them quite heavy-weight, and thus often inappropriate
in some special purposes.
</p>

<p>
<em>romfs</em> makes two shortcuts: first, it's read-only, you can't
simply <q>use</q> your disk if it's a <em>romfs</em> disk, you must
build its image beforehand.  Second, it stores only the absolute
minimum required from a filing system.  No modification dates,
no unix permissions.  These all might sound as large drawbacks,
but they are usually not.
</p>

<h1><a name="dev" id="dev" tabindex="2">Development</a></h1>

<ul>
<li>SourceForge: <a href="http://sourceforge.net/projects/romfs/">romfs project</a>
    (same <a href="https://sourceforge.net/projects/romfs/">via HTTPS</a>)</li>
<li>freshmeat: <a href="http://freshmeat.net/projects/genromfs/">genromfs project</a></li>
<li>advogato: <a href="http://www.advogato.org/proj/genromfs/">genromfs project</a></li>
<li>SourceForge: <a href="http://sourceforge.net/project/showfiles.php?group_id=2320">romfs releases</a>
    <ul>
    <li><a href="http://sourceforge.net/project/showfiles.php?group_id=2320&amp;release_id=71282">genromfs 0.5.1</a> is out (2002-01-22)</li>
    <li>See also the <a href="#mirror">distribution mirror</a> list below</li>
    </ul>
</li>
<li><a href="http://sourceforge.net/cvs/?group_id=2320">romfs CVS tree</a> at SourceForge</li>
</ul>

<p>You can browse the kernel code at any <a href="http://lxr.linux.no/">LXR</a>
site, see google:</p>

<ul>
<li><a href="http://lxr.linux.no/source/fs/romfs/">canonical lxr fs/romfs</a></li>
<li><a href="http://www.google.com/search?q=fs+romfs+lxr">google:fs romfs lxr</a></li>
</ul>

<p>The description of the filesystem layout is available at:</p>

<ul>
<li><a
  href="http://lxr.linux.no/source/Documentation/filesystems/romfs.txt"
  >romfs.txt at lxr</a></li>
<li><a
  href="http://www.linux.or.jp/JF/JFdocs/kernel-docs-2.4/filesystems/romfs.txt.html"
  >romfs.txt translated to Japanese</a> thanks to the JF project</li>
</ul>

<h1><a name="who" id="who" tabindex="3">Contact information</a></h1>

<p>
Got questions?
You can reach me at
<a href="mailto:jf-ml-r1-1087822223%40noc%2exeon%2eu%2eorg">jf-ml-r1/spam<em>&#64;</em>noc.xeon.eu.org</a>.
Sometimes, you can find
<a href="http://www.advogato.org/person/chexum/">me at advogato</a>.
</p>

<h1><a name="links" id="links" tabindex="4">Related projects</a></h1>

<p>
There are at least two main uses where <em>romfs</em>,
despite its limitations,
is almost perfect.
</p>

<ul>
<li>
The first is normal Linux systems, where you want
some of the files to take the least possible space, and you can't
afford or need integrated compression.  This is typical in some boot
procedures.  You can have your initial ram disks in <em>romfs</em>
format, and even if you don't use it after the boot, its code
is still very small to waste memory on.
This is also the single case when compression is easily
achievable, as the initial ramdisk loader recognizes gzip
compressed images.
Currently no <em>romfs</em> code supports compression.
</li>
<li>
The other possible use when you need to use a Linux kernel on a
device which has significant amount of read-only memory, and so
it makes little sense to have a writable filesystem on it.  This
is the case with many embedded systems.
</li>
</ul>

<p>
<em>romfs</em> itself, although it may sound weird at first,
cannot handle ROMs of any kind.
It is just a file system, working over a block device.
If you need to access a real ROM device, you need another
driver to make your device appear as a disk.
</p>

<p>
An example driver for the 2.0 kernel versions can be found at: 
</p>

<ul>
<li>
<a href="http://www.waste.org/~oxymoron/files/linux/romdisk-2.0.32-patch">http://www.waste.org/~oxymoron/files/linux/romdisk-2.0.32-patch</a>
</li>
</ul>

<h2><a name="boot" id="boot">Booting procedures with romfs</a></h2>

<p>
Some Linux distributions use <em>romfs</em> during booting,
or initial setup time, the most prominent are some PPC and Sparc systems.
</p>

<p>
<a href="http://silo.sourceforge.net/">SILO</a>,
the Sparc
bootloader, also supports loading kernels from <em>romfs</em> boot
disks.
See also the
<a href="http://freshmeat.net/projects/silo/">SILO project page at freshmeat</a>.
</p>

<h2><a name="embedded" id="embedded">Embedded projects using romfs</a></h2>

<p>
<a href="http://www.uclinux.org/">uClinux</a>,
the microcontroller Linux, is a port of the kernel, and
selected user-space programs to capable, embedded
processors, like some <q>smaller</q> Motorola m68k,
and ARM systems.
</p>

<p>
In turn, uClinux is used, or was mentioned as used by
the following projects and companies:
</p>

<ul>
<li><a href="http://www.snapgear.com/">SnapGear</a>, now part of the
    <a href="http://www.cyberguard.info/snapgear/tb20020917.html">Cyberguard</a> family</li>
<li><a href="http://home.tvd.be/cr26864/Linux/68000/">uClinux on Amiga</a>,
  for the older ones [disappeared]</li>
<li><a href="http://kiwi.sourceforge.net">Kiwi</a> [Last updated in 2000]</li>
<li><a href="http://www.lineo.com/">Lineo</a>, aka Embedix, now at Metrowerks</li>
<li><a href="http://www.leox.org/">The LEOX team</a></li>
<li><a href="http://www.microtronix.com/">Microtronix</a></li>
</ul>

<p>
<a href="http://www.kiss-technology.com/">KiSS</a>, 
  which became known from probably the first
  consumer DVD player supporting DivX.  Some(?) of their
<a href="http://www.kiss-tuning.nl/en/romfs.html">players</a> run Linux and have the
firmware in romfs format.  Now they are apparently a Cisco/Linksys venture.
</p>

<p>
<a href="http://www.axis.com/">Axis</a> has developed an embedded
chip for Linux (no less!)
called <a href="http://developer.axis.com/">ETRAX</a>.
It's not just a CPU, but a "system-on-a-chip solution", containing
even I/O and Ethernet controllers.
On the software front,
they also seem to have a modified <em>genromfs</em> in a
different way to support including device nodes in the
image.
</p>

<p>
The following sites contain other information about Linux related
embedded projects:
</p>

<ul>
<li><a href="http://www.linuxdevices.com/">Embedded Linux Portal</a></li>
<li><a href="http://www.siliconpenguin.com/">SiliconPenguin.com</a></li>
</ul>

<p>
<a href="http://cadcdev.sourceforge.net/">KallistiOS</a>, a
<q>pseudo-microkernel operating system for gaming consoles</q>
(currently DreamCast and GameBoy Advance),
also support <em>romfs</em> as a native filesystem.
</p>

<p>See also for DreamCast development:</p>

<ul>
<li><a href="http://proff.crowproductions.de/dcdev_en.php">http://proff.crowproductions.de/dcdev_en.php</a></li>
</ul>

<!--
 http://www.scl.ameslab.gov/Projects/PPC_cluster/g4-howto/ramdisk.html
 http://www.ltsp.org/
 ftp://ftp.ltc.com/pub/linux/patches/
-->

<h2><a name="ports" id="ports">Ports of romfs</a></h2>

<p>
<a href="http://www.sinor.ru/~mavir/">Vitaly A. Mamkin</a>
created a <em>romfs</em> driver to be used under
RTEMS.
It is available at
<a href="http://www.sinor.ru/~mavir/soft/soft.html">http://www.sinor.ru/~mavir/soft/soft.html</a>
(Site seems disappeared when checked at end of 2002.)
</p>

<p>
<a href="http://www.acc.umu.se/~bosse/">Bo Branten</a>
has created a driver to access <em>romfs</em> format
filesystems under Windows NT/2000.  See his page for details.
</p>

<p><a href="http://www.gnumonks.org/">Harald Welte</a> has
developed
a (user-space) tool to extract files from romfs images, called
<a href="http://svn.gnumonks.org/trunk/reveng-tools/romfsck/">romfsck</a>,
available from the above page.
</p>

<h2>romfs by any other name...</h2>

<p>
<a href="http://sources.redhat.com/ecos/">eCos</a> from Red Hat,
is an embedded, unix-like, fully customizable operating system kernel,
which seems to have a component called <em>ROMFS</em>, presumably
to access ROMs available in specific architectures,
but it's obviously different from the one in
the Linux kernel.
How different?  I just don't know.
</p>

<p>
<a href="http://en.wikipedia.org/wiki/Acorn_Computers_Ltd">Acorn</a>,
now mostly famous for its
ARM architecture,
had some machines with <a href="http://www.riscos.com/">RISC OS</a>,
which included a
<em>ROMFS</em>
(<a href="http://www.mdfsnet.f9.co.uk/Docs/Comp/Filing/FSList">ROM filing system</a>)
also,
apparently a virtual filesystem
to access ROMs of peripherals (podules?).
Information is scarce, even
at <a href="http://www.google.com/">Google</a>.
The
<a href="http://www.arm.com/">ARM</a> range of processors
was later bought by Intel,
in the process of improving, renamed to
StrongARM,
later
<a href="http://developer.intel.com/design/intelxscale/">XScale</a>,
and some of them are now called
<a href="http://developer.intel.com/design/pca/applicationsprocessors/">PCA Application Processors</a>.
</p>

<h1><a name="mirror" id="mirror" tabindex="5">Mirrors and distributions</a></h1>

<ul>
<li><a href="files/">files to download</a></li>
<li><a href="http://romfs.sourceforge.net">romfs information</a> in U.S.
    at <a href="http://sourceforge.net">SourceForge</a>
</li>
<li><a href="http://www.acomp.hu/romfs/">romfs mirror #1</a> in Hungary
    at <a href="http://www.acomp.hu">ACOMP</a>
</li>
</ul>

<p>
Older releases of genromfs (0.1-0.3) are available at
<a href="ftp://ftp.banki.hu/pub/Linux/local/">ftp://ftp.banki.hu/pub/Linux/local/</a>,
the old distribution site.
</p>

<hr />

<p class="center">
romfs
<span class="none"> | Powered by </span>
<a href="http://sourceforge.net"><img src="http://sourceforge.net/sflogo.php?group_id=2320" width="88" height="31" alt="SourceForge" /></a>
<span class="none"> | </span>
<a href="http://validator.w3.org/check/referer"><img src="http://www.w3.org/Icons/valid-xhtml10" height="31" width="88" alt="Valid XHTML 1.0!" /></a>
<br />
$Date: 2007/03/25 12:36:40 $
<span class="none"> | $Revision: 1.70 $ </span>
<br />
<a href="http://www.google.com">Google</a>
<a href="http://shadow.banki.hu/~chexum/">Farkas J&aacute;nos</a>
<br />
Opinions and shameless baits:
<a href="http://anti-dmca.org/">DMCA</a> *
<a href="http://www.xenu.net/">Scientology</a> *
<a href="http://www.xenu.net/">Dianetics</a> *
<a href="http://www.koan19.net/">koan19.net</a> =
<a href="http://www.koan19.org/">koan19.org</a> =
<a href="http://www.koan19.com/">koan19.com</a>
</p>

<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-317553-4";
urchinTracker();
</script>

</body>
</html>
